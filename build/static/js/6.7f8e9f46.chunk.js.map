{"version":3,"sources":["store/actions/auth/Dashboard.js","components/containers/dashboard/views/dashboard/user/EditTab.js","components/containers/dashboard/views/dashboard/user/Edit.js"],"names":["personalProfile","formValues","dispatch","getState","a","axiosInstance","post","tokenConfig","res","type","actionTypes","payload","data","response","detail","updatePersonalProfile","id","patch","stopSubmit","reset","fetchPersonalProfile","get","companyProfile","fetchCompanyProfile","fetchUserDonationsReceived","TabPanel","props","children","value","index","other","role","hidden","aria-labelledby","Box","p","Typography","a11yProps","reduxForm","form","pristine","submitting","handleSubmit","React","useState","setValue","useDispatch","editProfileSubmit","values","AppBar","position","Tabs","onChange","event","newValue","aria-label","Tab","label","onSubmit","className","Field","name","component","disabled","onClick","EditProfile","EditTab"],"mappings":"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","file":"static/js/6.7f8e9f46.chunk.js","sourcesContent":["import axiosInstance from \"util/api\";\r\nimport { tokenConfig } from \"util/TokenConfig\";\r\nimport { stopSubmit, reset } from \"redux-form\";\r\n\r\nimport * as actionTypes from \"../ActionTypes\";\r\n\r\nexport const personalProfile = (formValues) => async (dispatch, getState) => {\r\n  try {\r\n    const res = await axiosInstance.post(\"/accounts/profile/personal\", { ...formValues }, tokenConfig(getState));\r\n    dispatch({\r\n      type: actionTypes.CREATE_PERSONAL_PROFILE_SUCCESS,\r\n      payload: res.data,\r\n    });\r\n    // dispatch(stopSubmit(\"personalForm\"));\r\n    // dispatch(reset(\"personalForm\"));\r\n    dispatch({ type: actionTypes.SHOW_SUCCESS_MESSAGE, payload: \"Personal Profile Created\" });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: actionTypes.CREATE_PERSONAL_PROFILE_FAIL,\r\n    });\r\n    // dispatch(stopSubmit(\"personalForm\"));\r\n    // dispatch(reset(\"personalForm\"));\r\n    dispatch({ type: actionTypes.SHOW_ERROR_MESSAGE, payload: err.response.data.detail });\r\n  }\r\n};\r\n\r\n// update personal profile\r\nexport const updatePersonalProfile = (id, formValues) => async (dispatch, getState) => {\r\n  try {\r\n    const res = await axiosInstance.patch(`/accounts/profile/personal/${id}`, { ...formValues }, tokenConfig(getState));\r\n    dispatch({\r\n      type: actionTypes.UPDATE_PERSONAL_PROFILE_SUCCESS,\r\n      payload: res.data,\r\n    });\r\n    dispatch(stopSubmit(\"editForm\"));\r\n    dispatch(reset(\"editForm\"));\r\n    dispatch({ type: actionTypes.SHOW_SUCCESS_MESSAGE, payload: \"Personal Profile updated\" });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: actionTypes.UPDATE_PERSONAL_PROFILE_FAIL\r\n    });\r\n    dispatch(stopSubmit(\"editForm\"));\r\n    dispatch(reset(\"editForm\"));\r\n    dispatch({ type: actionTypes.SHOW_ERROR_MESSAGE, payload:err.response.data.detail });\r\n  }\r\n};\r\n\r\n// fetch personal profile\r\nexport const fetchPersonalProfile = () => async (dispatch, getState) => {\r\n  try {\r\n    const res = await axiosInstance.get(\"/accounts/profile/personal\", tokenConfig(getState));\r\n    dispatch({\r\n      type: actionTypes.FETCH_PERSONAL_PROFILE_SUCCESS,\r\n      payload: res.data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: actionTypes.FETCH_PERSONAL_PROFILE_FAIL,\r\n    });\r\n    dispatch({ type: actionTypes.SHOW_ERROR_MESSAGE, payload: `Detail: ${error.response}` });\r\n  }\r\n};\r\n\r\n// create comapny profile\r\nexport const companyProfile = (formValues) => async (dispatch, getState) => {\r\n  try {\r\n    const res = await axiosInstance.post(\r\n      \"accounts/profile/company\",\r\n      { ...formValues },\r\n      tokenConfig(getState)\r\n    );\r\n    dispatch({\r\n      type: actionTypes.CREATE_COMPANY_PROFILE_SUCCESS,\r\n      payload: res.data,\r\n    });\r\n    dispatch(stopSubmit(\"personalForm\"));\r\n    dispatch(reset(\"personalForm\"));\r\n    dispatch({ type: actionTypes.SHOW_SUCCESS_MESSAGE, payload: \"Company Profile Created\" });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: actionTypes.CREATE_COMPANY_PROFILE_FAIL,\r\n    });\r\n    dispatch(stopSubmit(\"companyForm\"));\r\n    dispatch(reset(\"companyForm\"));\r\n    dispatch({ type: actionTypes.SHOW_ERROR_MESSAGE, payload: err.response.data.detail });\r\n  }\r\n};\r\n\r\n// fetch company profile\r\n export const fetchCompanyProfile = () => async (dispatch, getState) => {\r\n  try {\r\n    const res = await axiosInstance.get(\"/accounts/profile/company\", tokenConfig(getState));\r\n    dispatch({\r\n      type: actionTypes.FETCH_COMPANY_PROFILE_SUCCESS,\r\n      payload: res.data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: actionTypes.FETCH_COMPANY_PROFILE_FAIL,\r\n    });\r\n    dispatch({ type: actionTypes.SHOW_ERROR_MESSAGE, payload: `Detail: ${error.response}` });\r\n  }\r\n};\r\n\r\n// fetch user donations received\r\n export const fetchUserDonationsReceived = () => async (dispatch, getState) => {\r\n  try {\r\n    const res = await axiosInstance.get(\"/accounts/user/fundraised\", tokenConfig(getState));\r\n    dispatch({\r\n      type: actionTypes.GET_USER_DONATIONS_RECEIVED,\r\n      payload: res.data,\r\n    });\r\n  } catch (error) {\r\n    dispatch({\r\n      type: actionTypes.GET_USER_DONATIONS_FAILED\r\n    });\r\n    dispatch({type: actionTypes.SHOW_ERROR_MESSAGE, payload: `Detail: ${error.response}` });\r\n  }\r\n};\r\n","import React from \"react\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from \"@material-ui/core/Box\";\nimport { Field, reduxForm } from \"redux-form\";\nimport {useDispatch} from 'react-redux';\nimport { updatePersonalProfile } from \"store/actions/auth/Dashboard\";\n\n// tab panel\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          <Typography>{children}</Typography>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nconst a11yProps = (index) => {\n  return {\n    id: `simple-tab-${index}`,\n    \"aria-controls\": `simple-tabpanel-${index}`,\n  };\n};\n\n\n// main function\nconst EditTabs = ({ pristine, reset, submitting, handleSubmit }) => {\n  const [value, setValue] = React.useState(0);\n  \n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n  \n  const dispatch = useDispatch()\n\n  const editProfileSubmit = values => {\n    dispatch( updatePersonalProfile(values))\n  }\n\n  \n  return (\n    <div>\n      <AppBar position=\"static\">\n        <Tabs\n          value={value}\n          onChange={handleChange}\n          aria-label=\"simple tabs example\"\n        >\n          <Tab label=\"Basic Information\" {...a11yProps(0)} />\n          <Tab label=\"Password\" {...a11yProps(1)} />\n        </Tabs>\n      </AppBar>\n      <TabPanel value={value} index={0}>\n\n        <form onSubmit={handleSubmit(editProfileSubmit)} className=\"edit-profile-fields\">\n          <div>\n            <label className=\"mt-3\">Email</label>\n            <div className=\"profile-reg-fields\">\n              <Field\n                name=\"email\"\n                component=\"input\"\n                type=\"text\"\n                className=\"field-inputs\"\n              />\n            </div>\n          </div>\n\n          <div className=\"d-flex mt-3\">\n            <label className=\"mr-3\">Gender:</label>\n            <div>\n              <label className=\"mr-3\">\n                <Field\n                  name=\"gender\"\n                  component=\"input\"\n                  type=\"radio\"\n                  value=\"Male\"\n                  className=\"mr-2\"\n                />\n                Male\n              </label>\n              <label>\n                <Field\n                  name=\"gender\"\n                  component=\"input\"\n                  type=\"radio\"\n                  value=\"Female\"\n                  className=\"mr-2\"\n                />\n                Female\n              </label>\n            </div>\n          </div>\n\n          <div className=\"profile-reg-fields\">\n            <label className=\"mt-3\">Country</label>\n            <div>\n              <Field\n                name=\"country\"\n                component=\"input\"\n                type=\"text\"\n                className=\"field-inputs\"\n              />\n            </div>\n          </div>\n          <div className=\"mt-4\">\n            <button\n              disabled={pristine || submitting}\n              onClick={reset}\n              className=\"profile-form-but mr-3\"\n            >\n              Clear values\n            </button>\n            <button\n              disabled={pristine || submitting}\n              className=\"profile-form-but\"\n            >\n              Save Profile\n            </button>\n          </div>\n        </form>\n      </TabPanel>\n\n\n      {/* password */}\n      <TabPanel value={value} index={1}>\n        <form onSubmit={handleSubmit(editProfileSubmit)}>\n        <div>\n          <label className=\"mt-3\">Current Password</label>\n          <div className=\"profile-reg-fields\">\n            <Field\n              name=\"password\"\n              component=\"input\"\n              type=\"password\"\n              className=\"field-inputs\"\n            />\n          </div>\n        </div>\n        <div>\n          <label>New Password</label>\n          <div className=\"profile-reg-fields\">\n            <Field\n              name=\"new_password\"\n              component=\"input\"\n              type=\"password\"\n              className=\"field-inputs\"\n            />\n          </div>\n        </div>\n        <div className=\"mt-4\">\n          <button\n            disabled={pristine || submitting}\n            onClick={reset}\n            className=\"profile-form-but mr-3\"\n          >\n            Cancel\n          </button>\n          <button\n            disabled={pristine || submitting}\n            className=\"profile-form-but\"\n          >\n            Change Password\n          </button>\n        </div>\n        </form>\n      </TabPanel>\n    </div>\n  );\n};\n\nexport default reduxForm({ form: \"editForm\" })(EditTabs);\n","import React from 'react'\n// import {useDispatch} from 'react-redux'\nimport EditTabs from './EditTab'\n\n\n\nconst EditProfile = () => {\n\n \n\n    return (\n        <form  className='profile-form-container mb-5'>\n        <div className = 'profile-reg-heading text-white text-center'>\n        <h4 className='pt-4 pb-4 text-uppercase'>Edit Profile</h4>\n        </div>\n         <EditTabs /> \n      </form>\n    )\n}\n\nexport default EditProfile;\n"],"sourceRoot":""}