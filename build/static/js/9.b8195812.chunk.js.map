{"version":3,"sources":["components/containers/dashboard/views/dashboard/funds/forms/raiseItemProfileForm.js","components/containers/dashboard/views/dashboard/funds/raiseItem/raiseItem.js"],"names":["RaiseItemProfileForm","dispatch","useDispatch","useState","fund_category","fund_title","fund_endAt","fund_currency_type","fund_purpose","fund_item_desc","fund_item_value","postData","updateFormData","postimage","setPostImage","handleChange","e","target","name","fund_img","files","console","log","value","trim","activeStep","setActiveStep","steps","getPersonalInformation","className","type","placeholder","onChange","id","getTrack","required","data-msg-required","normalize","val","replace","getItems","accept","col","row","handleBack","prevActiveStep","onSubmit","preventDefault","formData","FormData","append","config","headers","Authorization","localStorage","getItem","Accept","axiosInstance","post","then","res","SHOW_SUCCESS_MESSAGE","payload","catch","error","response","data","map","err","SHOW_ERROR_MESSAGE","Stepper","alternativeLabel","label","index","Step","StepLabel","length","stepIndex","getStepContent","to","Button","disabled","onClick","color","variant","raiseItem"],"mappings":"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","file":"static/js/9.b8195812.chunk.js","sourcesContent":["import React, {useState} from \"react\";\r\nimport axiosInstance  from 'util/api'\r\nimport {SHOW_ERROR_MESSAGE, SHOW_SUCCESS_MESSAGE} from 'store/actions/ActionTypes'\r\nimport { useDispatch } from \"react-redux\";\r\nimport Stepper from \"@material-ui/core/Stepper\";\r\nimport Step from \"@material-ui/core/Step\";\r\nimport StepLabel from \"@material-ui/core/StepLabel\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {Link} from 'react-router-dom'\r\n\r\n\r\nconst RaiseItemProfileForm = () => {\r\n  \r\n  const dispatch = useDispatch() \r\n\r\nconst [postData, updateFormData] = useState({\r\n fund_category:\"\",\r\n   fund_title:\"\",\r\n   fund_endAt:\"\",\r\n   fund_currency_type:\"\",\r\n   fund_purpose:\"\",\r\n   fund_item_desc:\"\",\r\n   fund_item_value:\"\"\r\n   });\r\nconst [postimage, setPostImage] = useState(null);\r\n\r\nconst handleChange = (e) => {\r\n  if ([e.target.name] == 'fund_img') {\r\n    setPostImage({\r\n      fund_img: e.target.files,\r\n    });\r\n    console.log(e.target.files);\r\n  }\r\n  if ([e.target.name] == 'fund_title') {\r\n    updateFormData({\r\n      ...postData,\r\n      [e.target.name]: e.target.value.trim(),\r\n    });\r\n  } else {\r\n    updateFormData({\r\n      ...postData,\r\n      [e.target.name]: e.target.value.trim(),\r\n    });\r\n  }\r\n};\r\n\r\nconst handleSubmit = (e) => {\r\n  e.preventDefault();\r\n  let formData = new FormData();\r\n  formData.append('fund_title', postData.fund_title);\r\n  formData.append('fund_category', postData.fund_category);\r\n  formData.append('fund_currency_type',postData.fund_currency_type);\r\n  formData.append('fund_endAt', postData.fund_endAt);\r\n  formData.append('fund_purpose', postData.fund_purpose);\r\n  formData.append('fund_item_value', postData.fund_item_value);\r\n  formData.append('fund_item_desc', postData.fund_item_desc);\r\n  formData.append('fund_img', postimage.fund_img[0]);\r\n   const config = {\r\n     headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `JWT ${localStorage.getItem(\"access\")}`,\r\n        Accept: \"application/json\",\r\n      },\r\n  }\r\n  axiosInstance.post(`campaign/create/fundraise-item`, formData, config)\r\n  .then(res =>{\r\n    dispatch({ type: SHOW_SUCCESS_MESSAGE, payload: \"Campaign Created!\" });\r\n  })\r\n.catch(error=>{\r\n    if(error.response.data){\r\n      error.response.data.fund_title.map(err=> {return(\r\n\r\n    dispatch({ type: SHOW_ERROR_MESSAGE, payload: `Fund Title Field: ${err}` })\r\n        )})\r\n    }\r\n    if(error.response.data){\r\n      error.response.data.fund_category.map(err=> {return(\r\n    dispatch({ type: SHOW_ERROR_MESSAGE, payload: `Category Field: ${err}` })\r\n    )})\r\n    } if(error.response.data){\r\n      error.response.data.fund_img.map(err=> {return(\r\n\r\n    dispatch({ type: SHOW_ERROR_MESSAGE, payload: `Fund Image Field: ${err}` })\r\n        )})\r\n\r\n    } if(error.response.data){\r\n      error.response.data.fund_purpose.map(err=> {return(\r\n\r\n    dispatch({ type: SHOW_ERROR_MESSAGE, payload: `Purpose Field: ${err}` })\r\n        )})\r\n\r\n    }\r\n      if(error.response.data){\r\n      error.response.data.fund_currency_type.map(err=> {return(\r\n\r\n    dispatch({ type: SHOW_ERROR_MESSAGE, payload: `Currency Field: ${err}` })\r\n        )})\r\n    }\r\n\r\n  }) \r\n};\r\n\r\n\r\n\r\nconst [activeStep, setActiveStep] = useState(0);\r\nconst getSteps = () => {\r\n    return [\"Item Title\", \"Description & Item Value\", \"Add a photo\"];\r\n  };\r\n\r\n  const steps = getSteps();\r\n  const getStepContent = (stepIndex) => {\r\n    switch (stepIndex) {\r\n      case 0:\r\n        return getPersonalInformation();\r\n      case 1:\r\n        return getTrack();\r\n      case 2:\r\n        return getItems();\r\n    \r\n      default:\r\n        return \"Uknown stepIndex\";\r\n    }\r\n  };\r\n\r\n  const getPersonalInformation = () => {\r\n    return (\r\n      <fieldset>\r\n        <h2 className=\"fs-title\">Fundraise Title</h2>\r\n         <input  type='text' className='input-text' placeholder='what should your cause be called?'onChange={handleChange} name='fund_title' />\r\n        <div className='d-flex mt-3'>\r\n          <h2 className=\"fs-title mr-4\">Select fund raise categories</h2>\r\n          <select onChange={handleChange} name=\"fund_category\" id=\"categories\">\r\n            <option value=\"\"></option>\r\n            <option value=\"Personal_need\">Personal</option>\r\n            <option value=\"Community\">Community</option>\r\n            <option value=\"Start_up\">Start up</option>\r\n            <option value=\"NGO\">NGO</option>\r\n          </select>\r\n        </div>\r\n        \r\n     \r\n      </fieldset>\r\n    );\r\n  };\r\n\r\n  const getTrack = () => {\r\n    return (\r\n      <fieldset>\r\n      <h2 className='fs-title'><i>item description</i></h2>\r\n    <textarea type=\"text\" className='input-textarea' name='fund_item_desc' onChange={handleChange} placeholder=\"breifly describe the item you need\"></textarea>\r\n   \r\n   <div className='d-flex mt-3'>\r\n    <h2 className='fs-title mr-3'><i>Select currency type</i></h2>\r\n    <select onChange={handleChange} name='fund_currency_type'>\r\n        <option value=\"\"></option>\r\n        <option value=\"$\">$</option>\r\n        <option value=\"₦\">₦</option>\r\n        <option value=\"€\">€</option>\r\n      </select>\r\n      </div>\r\n    <h2 className='fs-title mt-4'><i>item cash value</i></h2>\r\n       <input\r\n          id=\"amount\"\r\n          name=\"fund_item_value\"\r\n          required=\"required\"\r\n          onChange={handleChange}\r\n          placeholder=\"what's the value of the item when converted to cash\"\r\n          data-msg-required=\"Please enter a valid number\"\r\n          type=\"number\"\r\n          normalize={ val => (val || \"\").replace(/[^\\d]/g, \"\")}\r\n          className='input-number'\r\n        /> \r\n    </fieldset>\r\n\r\n    );\r\n  };\r\n  const getItems = () => {\r\n    return (\r\n      <fieldset>\r\n      <h2 className=\"fs-title\">Add a cover photo</h2>\r\n      <h3 className=\"fs-subtitle\">\r\n        Please upload a picture that describes your need\r\n      </h3>\r\n      <label>Choose your image file</label>\r\n     \r\n      <div>\r\n      <input \r\n        name='fund_img'\r\n        type='file'\r\n        accept=\"image/*\"\r\n        onChange={handleChange}\r\n        className='input-file'\r\n      />\r\n    </div>\r\n      \r\n      <h2 className='fs-title mt-4'>Campaign end date</h2>\r\n      <input type=\"date\" name='fund_endAt' onChange={handleChange} className='input-date'/> \r\n      <h2 className='fs-title mt-4'>Tell your story</h2>\r\n      <textarea name='fund_purpose' className='input-textarea' col='50' row='50' placeholder='Briefly tell a story why you need the item'onChange={handleChange}></textarea>\r\n      \r\n    </fieldset>\r\n    );\r\n  };\r\n\r\n\r\n\r\n  const handleNext = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n  };\r\n  const handleReset = () => {\r\n    setActiveStep(0);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={handleSubmit} className='fundforms_container'>\r\n        <div className=\"w-80\">\r\n          <Stepper\r\n            activeStep={activeStep}\r\n            alternativeLabel\r\n            className=\"horizontal-stepper-linear\"\r\n          >\r\n            {steps.map((label, index) => {\r\n              return (\r\n                <Step\r\n                  key={label}\r\n                  className={`horizontal-stepper ${\r\n                    index === activeStep ? \"active\" : \"\"\r\n                  }`}\r\n                >\r\n                  <StepLabel className=\"stepperlabel\">{label}</StepLabel>\r\n                </Step>\r\n              );\r\n            })}\r\n          </Stepper>\r\n\r\n          <div>\r\n            {activeStep !== steps.length ? (\r\n              <div >\r\n                {getStepContent(activeStep)}\r\n                <div className='mt-4'>\r\n                  {activeStep === 0 ?\r\n                <Link to='/dashboard'>\r\n                  <input\r\n                  type=\"button\"\r\n                  name=\"previous\"\r\n                  className=\"previous-action-button\"\r\n                  value=\"Cancel\"\r\n                  id=\"cancel__rs_item\"\r\n                /></Link> :   \r\n                <Button\r\n                disabled={activeStep === 0}\r\n                onClick={handleBack}\r\n                className=\"mr-2 float-left\"\r\n                color=\"primary\"\r\n              >\r\n                Back\r\n              </Button>\r\n                }\r\n                 \r\n                  <Button\r\n                    className=\"mr-2 float-right\"\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={handleNext}\r\n                    // disabled={true}\r\n                  >\r\n                    {activeStep === steps.length - 1 ? \"Finish\" : \"Next\"}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                <Button\r\n                  disabled={activeStep === 0}\r\n                  onClick={handleBack}\r\n                  className=\"mr-2 float-left\"\r\n                  color=\"primary\"\r\n                >\r\n                  Back\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  name=\"submit\"\r\n                  className='MuiButton-containedPrimary'\r\n                >\r\n                  Submit\r\n                </Button>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </form>\r\n</>\r\n)\r\n};\r\n\r\n\r\nexport default RaiseItemProfileForm;\r\n","import React from 'react'\r\nimport RaiseItemProfileForm from '../forms/raiseItemProfileForm'\r\n\r\nconst raiseItem = () => {\r\n    return (\r\n        <div>\r\n            <RaiseItemProfileForm/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default raiseItem\r\n"],"sourceRoot":""}