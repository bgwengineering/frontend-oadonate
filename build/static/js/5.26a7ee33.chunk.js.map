{"version":3,"sources":["components/containers/dashboard/views/dashboard/funds/forms/raiseCashProfileForm.js","components/containers/dashboard/views/dashboard/funds/raiseCash/raiseCash.js"],"names":["RaiseCashProfileForm","dispatch","useDispatch","useState","fund_category","fund_title","fund_cash_amount","fund_endAt","fund_currency_type","fund_purpose","postData","updateFormData","postimage","setPostImage","handleChange","e","target","name","fund_img","files","console","log","value","trim","activeStep","setActiveStep","steps","getPersonalInformation","className","type","placeholder","onChange","id","required","data-msg-required","normalize","val","replace","getPhoto","accept","handleBack","prevActiveStep","onSubmit","preventDefault","formData","FormData","append","config","headers","Authorization","localStorage","getItem","Accept","axiosInstance","post","then","res","SHOW_SUCCESS_MESSAGE","payload","catch","error","response","data","map","err","SHOW_ERROR_MESSAGE","Stepper","alternativeLabel","label","index","Step","StepLabel","length","stepIndex","getStepContent","to","Button","disabled","onClick","color","variant","raiseCash"],"mappings":"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","file":"static/js/5.26a7ee33.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport axiosInstance from \"util/api\";\nimport {\n  SHOW_ERROR_MESSAGE,\n  SHOW_SUCCESS_MESSAGE,\n} from \"store/actions/ActionTypes\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Button from \"@material-ui/core/Button\";\nimport {Link} from 'react-router-dom'\n\n\nconst RaiseCashProfileForm = () => {\n  const dispatch = useDispatch();\n  const [postData, updateFormData] = useState({\n    fund_category: \"\",\n    fund_title: \"\",\n    fund_cash_amount: \"\",\n    fund_endAt: \"\",\n    fund_currency_type: \"\",\n    fund_purpose: \"\",\n  });\n  const [postimage, setPostImage] = useState(null);\n\n  const handleChange = (e) => {\n    if ([e.target.name] == \"fund_img\") {\n      setPostImage({\n        fund_img: e.target.files,\n      });\n      console.log(e.target.files);\n    }\n    if ([e.target.name] == \"fund_title\") {\n      updateFormData({\n        ...postData,\n        [e.target.name]: e.target.value.trim(),\n      });\n    } else {\n      updateFormData({\n        ...postData,\n        [e.target.name]: e.target.value.trim(),\n      });\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    let formData = new FormData();\n    formData.append(\"fund_title\", postData.fund_title);\n    formData.append(\"fund_category\", postData.fund_category);\n    formData.append(\"fund_currency_type\", postData.fund_currency_type);\n    formData.append(\"fund_cash_amount\", postData.fund_cash_amount);\n    formData.append(\"fund_endAt\", postData.fund_endAt);\n    formData.append(\"fund_purpose\", postData.fund_purpose);\n    formData.append(\"fund_img\", postimage.fund_img[0]);\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `JWT ${localStorage.getItem(\"access\")}`,\n        Accept: \"application/json\",\n      },\n    };\n    axiosInstance\n      .post(`campaign/create/fundraise-cash`, formData, config)\n      .then((res) => {\n        dispatch({ type: SHOW_SUCCESS_MESSAGE, payload: \"Campaign Created!\" });\n      })\n      .catch((error) => {\n        if (error.response.data) {\n          error.response.data.fund_title.map((err) => {\n            return dispatch({\n              type: SHOW_ERROR_MESSAGE,\n              payload: `Fund Title Field: ${err}`,\n            });\n          });\n        }\n        if (error.response.data) {\n          error.response.data.fund_category.map((err) => {\n            return dispatch({\n              type: SHOW_ERROR_MESSAGE,\n              payload: `Category Field: ${err}`,\n            });\n          });\n        }\n        if (error.response.data) {\n          error.response.data.fund_img.map((err) => {\n            return dispatch({\n              type: SHOW_ERROR_MESSAGE,\n              payload: `Fund Image Field: ${err}`,\n            });\n          });\n        }\n        if (error.response.data) {\n          error.response.data.fund_purpose.map((err) => {\n            return dispatch({\n              type: SHOW_ERROR_MESSAGE,\n              payload: `Purpose Field: ${err}`,\n            });\n          });\n        }\n        if (error.response.data) {\n          error.response.data.fund_currency_type.map((err) => {\n            return dispatch({\n              type: SHOW_ERROR_MESSAGE,\n              payload: `Currency Field: ${err}`,\n            });\n          });\n        }\n      });\n  };\n\n\n  const [activeStep, setActiveStep] = useState(0);\nconst getSteps = () => {\n    return [\"Basic Information\", \"Add a photo\"];\n  };\n\n  const steps = getSteps();\n  const getStepContent = (stepIndex) => {\n    switch (stepIndex) {\n      case 0:\n        return getPersonalInformation();\n      case 1:\n        return getPhoto();\n    \n      default:\n        return \"Uknown stepIndex\";\n    }\n  };\n\n  const getPersonalInformation = () => {\n    return (\n      <fieldset>\n      <h2 className=\"fs-title text-capitalize\">Fundraise Title</h2>\n      <input\n        type=\"text\"\n        placeholder=\"what should your cause be called?\"\n        onChange={handleChange}\n        name=\"fund_title\"\n        className='input-text'\n      />\n      <div>\n        <label className='mr-3 mt-3'>Select fund raise categories</label>\n        <select onChange={handleChange} name=\"fund_category\" id=\"categories\">\n          <option value=\"\"></option>\n          <option value=\"Personal_need\">Personal</option>\n          <option value=\"Community\">Community</option>\n          <option value=\"Start_up\">Start up</option>\n          <option value=\"NGO\">NGO</option>\n        </select>\n      </div>\n      <div className=\"mt-4 d-flex\">\n          <h2 className=\"fs-title mr-2\">How much would you like to raise?</h2>    \n      </div>\n        <span>\n          <i className='mr-3'>select option for dollar, naira, euro</i>\n        <select onChange={handleChange} name=\"fund_currency_type\">\n            <option value=\"\"></option>\n            <option value=\"$\">$</option>\n            <option value=\"₦\">₦</option>\n            <option value=\"€\">€</option>\n          </select>\n        </span>\n\n        <input\n          id=\"amount\"\n          name=\"fund_cash_amount\"\n          required=\"required\"\n          onChange={handleChange}\n          data-msg-required=\"Please enter a valid number\"\n          type=\"number\"\n          normalize={(val) => (val || \"\").replace(/[^\\d]/g, \"\")}\n          className='mt-3 input-number'\n          placeholder=\"Type the amount you need\"    \n        />\n\n        <p>\n          <i>\n            Keep in mind that transaction fees of (5%) including credit and debit\n            charges are deducted from each donation\n          </i>\n        </p>\n    </fieldset>\n    );\n  };\n\n  const getPhoto = () => {\n    return (\n      <fieldset>\n      <h2 className=\"fs-title\">Add a cover photo</h2>\n      <h3 className=\"fs-subtitle\">\n        Please upload a picture that describes your need\n      </h3>\n      <label>Choose your image file</label>\n      <div>\n        <input\n          name=\"fund_img\"\n          type=\"file\"\n          accept=\"image/*\"\n          onChange={handleChange}\n          className='input-number'\n        />\n      </div>\n      <h2 className=\"fs-title mt-4\">Campaign End date</h2>\n      <input type=\"date\" name=\"fund_endAt\" onChange={handleChange} className='input-date'/>\n\n      <h2 className=\"fs-title mt-4\">Tell your story</h2>\n      <textarea\n        type=\"text\"\n        name=\"fund_purpose\"\n        onChange={handleChange}\n        placeholder=\"Briefly explain the reason for raising funds\"\n        className='input-textarea'\n      ></textarea>\n    </fieldset>\n    );\n  };\n\n\n\n  const handleNext = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  };\n  const handleReset = () => {\n    setActiveStep(0);\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} className='fundforms_container'>\n        <div className=\"w-80\">\n          <Stepper\n            activeStep={activeStep}\n            alternativeLabel\n            className=\"horizontal-stepper-linear\"\n          >\n            {steps.map((label, index) => {\n              return (\n                <Step\n                  key={label}\n                  className={`horizontal-stepper ${\n                    index === activeStep ? \"active\" : \"\"\n                  }`}\n                >\n                  <StepLabel className=\"stepperlabel\">{label}</StepLabel>\n                </Step>\n              );\n            })}\n          </Stepper>\n\n          <div>\n            {activeStep !== steps.length ? (\n              <div>\n                {getStepContent(activeStep)}\n                <div className='mt-4'>\n                  {activeStep === 0 ?\n                  <Link to='/dashboard'>\n                         <input\n                         type=\"button\"\n                         name=\"previous\"\n                         className=\"previous-action-button\"\n                         value=\"Cancel\"\n                         id=\"cancel__rs_cash\"        \n                       /> \n                       </Link>:\n                       <Button\n                       disabled={activeStep === 0}\n                       onClick={handleBack}\n                       className=\"mr-2 float-left\"\n                       color=\"primary\"\n                     >\n                       Back\n                     </Button>\n                }\n                  \n                  <Button\n                    className=\"mr-2 float-right\"\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={handleNext}\n                    // disabled={true}\n                  >\n                    {activeStep === steps.length - 1 ? \"Finish\" : \"Next\"}\n                  </Button>\n                </div>\n              </div>\n            ) : (\n              <>\n                <Button\n                  disabled={activeStep === 0}\n                  onClick={handleBack}\n                  className=\"mr-2 float-left\"\n                  color=\"primary\"\n                >\n                  Back\n                </Button>\n                <Button\n                  type=\"submit\"\n                  name=\"submit\"\n                  className='MuiButton-containedPrimary'\n                >\n                  Submit\n                </Button>\n              </>\n            )}\n          </div>\n        </div>\n      </form>\n</>\n)\n};\n\n\nexport default RaiseCashProfileForm;\n","import React from 'react'\nimport RaiseCashProfileForm from '../forms/raiseCashProfileForm'\n\n\nconst raiseCash = () => {\n    return (\n        <div>\n            <RaiseCashProfileForm />\n        </div>\n    )\n}\n\nexport default raiseCash\n"],"sourceRoot":""}