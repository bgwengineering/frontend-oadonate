{"version":3,"sources":["components/containers/dashboard/views/dashboard/funds/forms/raiseCashProfileForm.js","components/containers/dashboard/views/dashboard/funds/raiseCash/raiseCash.js"],"names":["RaiseCashProfileForm","dispatch","useDispatch","useState","fund_category","fund_title","fund_cash_amount","fund_endAt","fund_currency_type","fund_purpose","postData","updateFormData","postimage","setPostImage","handleChange","e","target","name","fund_img","files","console","log","value","trim","activeStep","setActiveStep","steps","getPersonalInformation","className","type","placeholder","onChange","id","required","data-msg-required","normalize","val","replace","getPhoto","accept","handleBack","prevActiveStep","onSubmit","preventDefault","formData","FormData","append","config","headers","Authorization","localStorage","getItem","Accept","axiosInstance","post","then","res","SHOW_SUCCESS_MESSAGE","payload","catch","error","response","data","map","err","SHOW_ERROR_MESSAGE","Stepper","alternativeLabel","label","index","Step","StepLabel","length","stepIndex","getStepContent","to","Button","disabled","onClick","color","variant","raiseCash"],"mappings":"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","file":"static/js/5.365ba95d.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport axiosInstance from \"util/api\";\r\nimport {\r\n  SHOW_ERROR_MESSAGE,\r\n  SHOW_SUCCESS_MESSAGE,\r\n} from \"store/actions/ActionTypes\";\r\nimport Stepper from \"@material-ui/core/Stepper\";\r\nimport Step from \"@material-ui/core/Step\";\r\nimport StepLabel from \"@material-ui/core/StepLabel\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {Link} from 'react-router-dom'\r\n\r\n\r\nconst RaiseCashProfileForm = () => {\r\n  const dispatch = useDispatch();\r\n  const [postData, updateFormData] = useState({\r\n    fund_category: \"\",\r\n    fund_title: \"\",\r\n    fund_cash_amount: \"\",\r\n    fund_endAt: \"\",\r\n    fund_currency_type: \"\",\r\n    fund_purpose: \"\",\r\n  });\r\n  const [postimage, setPostImage] = useState(null);\r\n\r\n  const handleChange = (e) => {\r\n    if ([e.target.name] == \"fund_img\") {\r\n      setPostImage({\r\n        fund_img: e.target.files,\r\n      });\r\n      console.log(e.target.files);\r\n    }\r\n    if ([e.target.name] == \"fund_title\") {\r\n      updateFormData({\r\n        ...postData,\r\n        [e.target.name]: e.target.value.trim(),\r\n      });\r\n    } else {\r\n      updateFormData({\r\n        ...postData,\r\n        [e.target.name]: e.target.value.trim(),\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    let formData = new FormData();\r\n    formData.append(\"fund_title\", postData.fund_title);\r\n    formData.append(\"fund_category\", postData.fund_category);\r\n    formData.append(\"fund_currency_type\", postData.fund_currency_type);\r\n    formData.append(\"fund_cash_amount\", postData.fund_cash_amount);\r\n    formData.append(\"fund_endAt\", postData.fund_endAt);\r\n    formData.append(\"fund_purpose\", postData.fund_purpose);\r\n    formData.append(\"fund_img\", postimage.fund_img[0]);\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `JWT ${localStorage.getItem(\"access\")}`,\r\n        Accept: \"application/json\",\r\n      },\r\n    };\r\n    axiosInstance\r\n      .post(`campaign/create/fundraise-cash`, formData, config)\r\n      .then((res) => {\r\n        dispatch({ type: SHOW_SUCCESS_MESSAGE, payload: \"Campaign Created!\" });\r\n      })\r\n      .catch((error) => {\r\n        if (error.response.data) {\r\n          error.response.data.fund_title.map((err) => {\r\n            return dispatch({\r\n              type: SHOW_ERROR_MESSAGE,\r\n              payload: `Fund Title Field: ${err}`,\r\n            });\r\n          });\r\n        }\r\n        if (error.response.data) {\r\n          error.response.data.fund_category.map((err) => {\r\n            return dispatch({\r\n              type: SHOW_ERROR_MESSAGE,\r\n              payload: `Category Field: ${err}`,\r\n            });\r\n          });\r\n        }\r\n        if (error.response.data) {\r\n          error.response.data.fund_img.map((err) => {\r\n            return dispatch({\r\n              type: SHOW_ERROR_MESSAGE,\r\n              payload: `Fund Image Field: ${err}`,\r\n            });\r\n          });\r\n        }\r\n        if (error.response.data) {\r\n          error.response.data.fund_purpose.map((err) => {\r\n            return dispatch({\r\n              type: SHOW_ERROR_MESSAGE,\r\n              payload: `Purpose Field: ${err}`,\r\n            });\r\n          });\r\n        }\r\n        if (error.response.data) {\r\n          error.response.data.fund_currency_type.map((err) => {\r\n            return dispatch({\r\n              type: SHOW_ERROR_MESSAGE,\r\n              payload: `Currency Field: ${err}`,\r\n            });\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n\r\n  const [activeStep, setActiveStep] = useState(0);\r\nconst getSteps = () => {\r\n    return [\"Basic Information\", \"Add a photo\"];\r\n  };\r\n\r\n  const steps = getSteps();\r\n  const getStepContent = (stepIndex) => {\r\n    switch (stepIndex) {\r\n      case 0:\r\n        return getPersonalInformation();\r\n      case 1:\r\n        return getPhoto();\r\n    \r\n      default:\r\n        return \"Uknown stepIndex\";\r\n    }\r\n  };\r\n\r\n  const getPersonalInformation = () => {\r\n    return (\r\n      <fieldset>\r\n      <h2 className=\"fs-title text-capitalize\">Fundraise Title</h2>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"what should your cause be called?\"\r\n        onChange={handleChange}\r\n        name=\"fund_title\"\r\n        className='input-text'\r\n      />\r\n      <div>\r\n        <label className='mr-3 mt-3'>Select fund raise categories</label>\r\n        <select onChange={handleChange} name=\"fund_category\" id=\"categories\">\r\n          <option value=\"\"></option>\r\n          <option value=\"Personal_need\">Personal</option>\r\n          <option value=\"Community\">Community</option>\r\n          <option value=\"Start_up\">Start up</option>\r\n          <option value=\"NGO\">NGO</option>\r\n        </select>\r\n      </div>\r\n      <div className=\"mt-4 d-flex\">\r\n          <h2 className=\"fs-title mr-2\">How much would you like to raise?</h2>    \r\n      </div>\r\n        <span>\r\n          <i className='mr-3'>select option for dollar, naira, euro</i>\r\n        <select onChange={handleChange} name=\"fund_currency_type\">\r\n            <option value=\"\"></option>\r\n            <option value=\"$\">$</option>\r\n            <option value=\"₦\">₦</option>\r\n            <option value=\"€\">€</option>\r\n          </select>\r\n        </span>\r\n\r\n        <input\r\n          id=\"amount\"\r\n          name=\"fund_cash_amount\"\r\n          required=\"required\"\r\n          onChange={handleChange}\r\n          data-msg-required=\"Please enter a valid number\"\r\n          type=\"number\"\r\n          normalize={(val) => (val || \"\").replace(/[^\\d]/g, \"\")}\r\n          className='mt-3 input-number'\r\n          placeholder=\"Type the amount you need\"    \r\n        />\r\n\r\n        <p>\r\n          <i>\r\n            Keep in mind that transaction fees of (5%) including credit and debit\r\n            charges are deducted from each donation\r\n          </i>\r\n        </p>\r\n    </fieldset>\r\n    );\r\n  };\r\n\r\n  const getPhoto = () => {\r\n    return (\r\n      <fieldset>\r\n      <h2 className=\"fs-title\">Add a cover photo</h2>\r\n      <h3 className=\"fs-subtitle\">\r\n        Please upload a picture that describes your need\r\n      </h3>\r\n      <label>Choose your image file</label>\r\n      <div>\r\n        <input\r\n          name=\"fund_img\"\r\n          type=\"file\"\r\n          accept=\"image/*\"\r\n          onChange={handleChange}\r\n          className='input-number'\r\n        />\r\n      </div>\r\n      <h2 className=\"fs-title mt-4\">Campaign End date</h2>\r\n      <input type=\"date\" name=\"fund_endAt\" onChange={handleChange} className='input-date'/>\r\n\r\n      <h2 className=\"fs-title mt-4\">Tell your story</h2>\r\n      <textarea\r\n        type=\"text\"\r\n        name=\"fund_purpose\"\r\n        onChange={handleChange}\r\n        placeholder=\"Briefly explain the reason for raising funds\"\r\n        className='input-textarea'\r\n      ></textarea>\r\n    </fieldset>\r\n    );\r\n  };\r\n\r\n\r\n\r\n  const handleNext = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n  };\r\n  const handleReset = () => {\r\n    setActiveStep(0);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={handleSubmit} className='fundforms_container'>\r\n        <div className=\"w-80\">\r\n          <Stepper\r\n            activeStep={activeStep}\r\n            alternativeLabel\r\n            className=\"horizontal-stepper-linear\"\r\n          >\r\n            {steps.map((label, index) => {\r\n              return (\r\n                <Step\r\n                  key={label}\r\n                  className={`horizontal-stepper ${\r\n                    index === activeStep ? \"active\" : \"\"\r\n                  }`}\r\n                >\r\n                  <StepLabel className=\"stepperlabel\">{label}</StepLabel>\r\n                </Step>\r\n              );\r\n            })}\r\n          </Stepper>\r\n\r\n          <div>\r\n            {activeStep !== steps.length ? (\r\n              <div>\r\n                {getStepContent(activeStep)}\r\n                <div className='mt-4'>\r\n                  {activeStep === 0 ?\r\n                  <Link to='/dashboard'>\r\n                         <input\r\n                         type=\"button\"\r\n                         name=\"previous\"\r\n                         className=\"previous-action-button\"\r\n                         value=\"Cancel\"\r\n                         id=\"cancel__rs_cash\"        \r\n                       /> \r\n                       </Link>:\r\n                       <Button\r\n                       disabled={activeStep === 0}\r\n                       onClick={handleBack}\r\n                       className=\"mr-2 float-left\"\r\n                       color=\"primary\"\r\n                     >\r\n                       Back\r\n                     </Button>\r\n                }\r\n                  \r\n                  <Button\r\n                    className=\"mr-2 float-right\"\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={handleNext}\r\n                    // disabled={true}\r\n                  >\r\n                    {activeStep === steps.length - 1 ? \"Finish\" : \"Next\"}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                <Button\r\n                  disabled={activeStep === 0}\r\n                  onClick={handleBack}\r\n                  className=\"mr-2 float-left\"\r\n                  color=\"primary\"\r\n                >\r\n                  Back\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  name=\"submit\"\r\n                  className='MuiButton-containedPrimary'\r\n                >\r\n                  Submit\r\n                </Button>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </form>\r\n</>\r\n)\r\n};\r\n\r\n\r\nexport default RaiseCashProfileForm;\r\n","import React from 'react'\r\nimport RaiseCashProfileForm from '../forms/raiseCashProfileForm'\r\n\r\n\r\nconst raiseCash = () => {\r\n    return (\r\n        <div>\r\n            <RaiseCashProfileForm />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default raiseCash\r\n"],"sourceRoot":""}