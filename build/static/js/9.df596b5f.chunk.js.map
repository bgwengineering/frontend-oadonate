{"version":3,"sources":["components/containers/dashboard/views/dashboard/funds/forms/raiseItemProfileForm.js","components/containers/dashboard/views/dashboard/funds/raiseItem/raiseItem.js"],"names":["RaiseItemProfileForm","dispatch","useDispatch","useState","fund_category","fund_title","fund_endAt","fund_currency_type","fund_purpose","fund_item_desc","fund_item_value","postData","updateFormData","postimage","setPostImage","handleChange","e","target","name","fund_img","files","console","log","value","trim","activeStep","setActiveStep","steps","getPersonalInformation","className","type","placeholder","onChange","id","getTrack","required","data-msg-required","normalize","val","replace","getItems","accept","col","row","handleBack","prevActiveStep","onSubmit","preventDefault","formData","FormData","append","config","headers","Authorization","localStorage","getItem","Accept","axiosInstance","post","then","res","SHOW_SUCCESS_MESSAGE","payload","catch","error","response","data","map","err","SHOW_ERROR_MESSAGE","Stepper","alternativeLabel","label","index","Step","StepLabel","length","stepIndex","getStepContent","to","Button","disabled","onClick","color","variant","raiseItem"],"mappings":"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","file":"static/js/9.df596b5f.chunk.js","sourcesContent":["import React, {useState} from \"react\";\nimport axiosInstance  from 'util/api'\nimport {SHOW_ERROR_MESSAGE, SHOW_SUCCESS_MESSAGE} from 'store/actions/ActionTypes'\nimport { useDispatch } from \"react-redux\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Button from \"@material-ui/core/Button\";\nimport {Link} from 'react-router-dom'\n\n\nconst RaiseItemProfileForm = () => {\n  \n  const dispatch = useDispatch() \n\nconst [postData, updateFormData] = useState({\n fund_category:\"\",\n   fund_title:\"\",\n   fund_endAt:\"\",\n   fund_currency_type:\"\",\n   fund_purpose:\"\",\n   fund_item_desc:\"\",\n   fund_item_value:\"\"\n   });\nconst [postimage, setPostImage] = useState(null);\n\nconst handleChange = (e) => {\n  if ([e.target.name] == 'fund_img') {\n    setPostImage({\n      fund_img: e.target.files,\n    });\n    console.log(e.target.files);\n  }\n  if ([e.target.name] == 'fund_title') {\n    updateFormData({\n      ...postData,\n      [e.target.name]: e.target.value.trim(),\n    });\n  } else {\n    updateFormData({\n      ...postData,\n      [e.target.name]: e.target.value.trim(),\n    });\n  }\n};\n\nconst handleSubmit = (e) => {\n  e.preventDefault();\n  let formData = new FormData();\n  formData.append('fund_title', postData.fund_title);\n  formData.append('fund_category', postData.fund_category);\n  formData.append('fund_currency_type',postData.fund_currency_type);\n  formData.append('fund_endAt', postData.fund_endAt);\n  formData.append('fund_purpose', postData.fund_purpose);\n  formData.append('fund_item_value', postData.fund_item_value);\n  formData.append('fund_item_desc', postData.fund_item_desc);\n  formData.append('fund_img', postimage.fund_img[0]);\n   const config = {\n     headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `JWT ${localStorage.getItem(\"access\")}`,\n        Accept: \"application/json\",\n      },\n  }\n  axiosInstance.post(`campaign/create/fundraise-item`, formData, config)\n  .then(res =>{\n    dispatch({ type: SHOW_SUCCESS_MESSAGE, payload: \"Campaign Created!\" });\n  })\n.catch(error=>{\n    if(error.response.data){\n      error.response.data.fund_title.map(err=> {return(\n\n    dispatch({ type: SHOW_ERROR_MESSAGE, payload: `Fund Title Field: ${err}` })\n        )})\n    }\n    if(error.response.data){\n      error.response.data.fund_category.map(err=> {return(\n    dispatch({ type: SHOW_ERROR_MESSAGE, payload: `Category Field: ${err}` })\n    )})\n    } if(error.response.data){\n      error.response.data.fund_img.map(err=> {return(\n\n    dispatch({ type: SHOW_ERROR_MESSAGE, payload: `Fund Image Field: ${err}` })\n        )})\n\n    } if(error.response.data){\n      error.response.data.fund_purpose.map(err=> {return(\n\n    dispatch({ type: SHOW_ERROR_MESSAGE, payload: `Purpose Field: ${err}` })\n        )})\n\n    }\n      if(error.response.data){\n      error.response.data.fund_currency_type.map(err=> {return(\n\n    dispatch({ type: SHOW_ERROR_MESSAGE, payload: `Currency Field: ${err}` })\n        )})\n    }\n\n  }) \n};\n\n\n\nconst [activeStep, setActiveStep] = useState(0);\nconst getSteps = () => {\n    return [\"Item Title\", \"Description & Item Value\", \"Add a photo\"];\n  };\n\n  const steps = getSteps();\n  const getStepContent = (stepIndex) => {\n    switch (stepIndex) {\n      case 0:\n        return getPersonalInformation();\n      case 1:\n        return getTrack();\n      case 2:\n        return getItems();\n    \n      default:\n        return \"Uknown stepIndex\";\n    }\n  };\n\n  const getPersonalInformation = () => {\n    return (\n      <fieldset>\n        <h2 className=\"fs-title\">Fundraise Title</h2>\n         <input  type='text' className='input-text' placeholder='what should your cause be called?'onChange={handleChange} name='fund_title' />\n        <div className='d-flex mt-3'>\n          <h2 className=\"fs-title mr-4\">Select fund raise categories</h2>\n          <select onChange={handleChange} name=\"fund_category\" id=\"categories\">\n            <option value=\"\"></option>\n            <option value=\"Personal_need\">Personal</option>\n            <option value=\"Community\">Community</option>\n            <option value=\"Start_up\">Start up</option>\n            <option value=\"NGO\">NGO</option>\n          </select>\n        </div>\n        \n     \n      </fieldset>\n    );\n  };\n\n  const getTrack = () => {\n    return (\n      <fieldset>\n      <h2 className='fs-title'><i>item description</i></h2>\n    <textarea type=\"text\" className='input-textarea' name='fund_item_desc' onChange={handleChange} placeholder=\"breifly describe the item you need\"></textarea>\n   \n   <div className='d-flex mt-3'>\n    <h2 className='fs-title mr-3'><i>Select currency type</i></h2>\n    <select onChange={handleChange} name='fund_currency_type'>\n        <option value=\"\"></option>\n        <option value=\"$\">$</option>\n        <option value=\"₦\">₦</option>\n        <option value=\"€\">€</option>\n      </select>\n      </div>\n    <h2 className='fs-title mt-4'><i>item cash value</i></h2>\n       <input\n          id=\"amount\"\n          name=\"fund_item_value\"\n          required=\"required\"\n          onChange={handleChange}\n          placeholder=\"what's the value of the item when converted to cash\"\n          data-msg-required=\"Please enter a valid number\"\n          type=\"number\"\n          normalize={ val => (val || \"\").replace(/[^\\d]/g, \"\")}\n          className='input-number'\n        /> \n    </fieldset>\n\n    );\n  };\n  const getItems = () => {\n    return (\n      <fieldset>\n      <h2 className=\"fs-title\">Add a cover photo</h2>\n      <h3 className=\"fs-subtitle\">\n        Please upload a picture that describes your need\n      </h3>\n      <label>Choose your image file</label>\n     \n      <div>\n      <input \n        name='fund_img'\n        type='file'\n        accept=\"image/*\"\n        onChange={handleChange}\n        className='input-file'\n      />\n    </div>\n      \n      <h2 className='fs-title mt-4'>Campaign end date</h2>\n      <input type=\"date\" name='fund_endAt' onChange={handleChange} className='input-date'/> \n      <h2 className='fs-title mt-4'>Tell your story</h2>\n      <textarea name='fund_purpose' className='input-textarea' col='50' row='50' placeholder='Briefly tell a story why you need the item'onChange={handleChange}></textarea>\n      \n    </fieldset>\n    );\n  };\n\n\n\n  const handleNext = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  };\n  const handleReset = () => {\n    setActiveStep(0);\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} className='fundforms_container'>\n        <div className=\"w-80\">\n          <Stepper\n            activeStep={activeStep}\n            alternativeLabel\n            className=\"horizontal-stepper-linear\"\n          >\n            {steps.map((label, index) => {\n              return (\n                <Step\n                  key={label}\n                  className={`horizontal-stepper ${\n                    index === activeStep ? \"active\" : \"\"\n                  }`}\n                >\n                  <StepLabel className=\"stepperlabel\">{label}</StepLabel>\n                </Step>\n              );\n            })}\n          </Stepper>\n\n          <div>\n            {activeStep !== steps.length ? (\n              <div >\n                {getStepContent(activeStep)}\n                <div className='mt-4'>\n                  {activeStep === 0 ?\n                <Link to='/dashboard'>\n                  <input\n                  type=\"button\"\n                  name=\"previous\"\n                  className=\"previous-action-button\"\n                  value=\"Cancel\"\n                  id=\"cancel__rs_item\"\n                /></Link> :   \n                <Button\n                disabled={activeStep === 0}\n                onClick={handleBack}\n                className=\"mr-2 float-left\"\n                color=\"primary\"\n              >\n                Back\n              </Button>\n                }\n                 \n                  <Button\n                    className=\"mr-2 float-right\"\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={handleNext}\n                    // disabled={true}\n                  >\n                    {activeStep === steps.length - 1 ? \"Finish\" : \"Next\"}\n                  </Button>\n                </div>\n              </div>\n            ) : (\n              <>\n                <Button\n                  disabled={activeStep === 0}\n                  onClick={handleBack}\n                  className=\"mr-2 float-left\"\n                  color=\"primary\"\n                >\n                  Back\n                </Button>\n                <Button\n                  type=\"submit\"\n                  name=\"submit\"\n                  className='MuiButton-containedPrimary'\n                >\n                  Submit\n                </Button>\n              </>\n            )}\n          </div>\n        </div>\n      </form>\n</>\n)\n};\n\n\nexport default RaiseItemProfileForm;\n","import React from 'react'\nimport RaiseItemProfileForm from '../forms/raiseItemProfileForm'\n\nconst raiseItem = () => {\n    return (\n        <div>\n            <RaiseItemProfileForm/>\n        </div>\n    )\n}\n\nexport default raiseItem\n"],"sourceRoot":""}